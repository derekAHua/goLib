package utils

import "unicode"

// @Author: Derek
// @Description: Check mobile format.
// @Date: 2022/4/30 15:46
// @Version 1.0

func CheckMobileFormat(p string) bool {
	if len(p) != 11 {
		return false
	}

	for _, v := range p {
		if !unicode.IsDigit(v) {
			return false
		}
	}

	var phoneList = map[string]struct{}{
		"134": {}, "135": {}, "136": {}, "137": {}, "138": {}, "139": {},
		"147": {}, "148": {}, "150": {}, "151": {}, "152": {}, "157": {}, "158": {},
		"159": {}, "178": {}, "182": {}, "183": {}, "184": {}, "187": {}, "188": {},
		"198": {}, "165": {}, "172": {}, "195": {}, "197": {}, "130": {}, "131": {},
		"132": {}, "145": {}, "146": {}, "155": {}, "156": {}, "166": {}, "167": {},
		"175": {}, "176": {}, "185": {}, "186": {}, "169": {}, "196": {}, "133": {},
		"141": {}, "153": {}, "162": {}, "173": {}, "174": {}, "177": {}, "180": {},
		"181": {}, "189": {}, "191": {}, "199": {}, "190": {}, "192": {}, "193": {},
		"170": {}, "171": {}, "116": {}, "115": {}, "111": {},
	}
	prefix := p[0:3]
	if _, ok := phoneList[prefix]; !ok {
		return false
	}
	return true
}
